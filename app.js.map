{"version":3,"sources":["app/app.js","app/lib/get-data.js","app/lib/get-json.js","app/lib/interpolate-lines.js","app/lib/line-from-points.js"],"names":["THREE","FAKE_HASH","HASH_LENGTH","length","FLAT_LINE","split","map","CAMERA_CLIP_Z","CAMERA_SPEED","CAMERA_Z","devicePixelRatio","window","WIDTH","innerWidth","HEIGHT","innerHeight","x0","dx","dz","scene","Scene","background","Color","fog","Fog","camera","PerspectiveCamera","renderer","WebGLRenderer","setSize","domElement","style","width","height","document","body","appendChild","position","y","z","lookAt","Vector3","render","t0","metaZElement","querySelector","metaIdElement","metaHashElement","metaTimeElement","metaDataElement","animate","t","requestAnimationFrame","touchVel","touchFriction","newZ","setZ","textContent","index","Math","ceil","setBlock","originalBlocks","block","hash","timestamp","JSON","stringify","data","yFromChar","char","parseInt","then","blocks","b","hashes","lines","forEach","add","line","performance","now","lastTouchY","addEventListener","onWheel","onTouchDown","onTouchMove","e","deltaY","console","log","touches","screenY","touchY","dY","preventDefault","stopPropagation","catch","url","Promise","resolve","reject","reqListener","text","responseText","obj","parse","oReq","XMLHttpRequest","onload","onerror","open","send","allPoints","i","points0","pointsI","j","INTERPOLATIONS","pointsInter","getInterpolated","push","points","interpolate","a","c","k","easeInOutQuad","linear","pointsA","pointsB","isInterpolated","curve","CatmullRomCurve3","p","pi","cpoints","getPoints","geometry","BufferGeometry","setFromPoints","material","LineBasicMaterial","INTERPOLATED_MATERIAL","MAIN_MATERIAL","curveObject","Line","color"],"mappings":"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","file":"public/app.js","sourcesContent":["import * as THREE from 'three'\n// import lineFromPoints from './lib/line-from-points'\nimport interpolateLines from './lib/interpolate-lines'\nimport getJson from './lib/get-json'\nimport getData from './lib/get-data'\n\nconst FAKE_HASH =\n  '816534932c2b7154836da6afc367695e6337db8a921823784c14378abed4f7d7'\nconst HASH_LENGTH = FAKE_HASH.length\nconst FLAT_LINE = FAKE_HASH.split('').map(() => 0)\nconst CAMERA_CLIP_Z = 1000\nconst CAMERA_SPEED = 1\nconst CAMERA_Z = 300\nconst devicePixelRatio = window.devicePixelRatio || 1\nconst WIDTH = window.innerWidth * devicePixelRatio\nconst HEIGHT = window.innerHeight * devicePixelRatio\nconst x0 = -WIDTH / 2\nconst dx = WIDTH / HASH_LENGTH\nconst dz = CAMERA_CLIP_Z / 2\n\nconst scene = new THREE.Scene()\nscene.background = new THREE.Color(255, 255, 255)\nscene.fog = new THREE.Fog(0xffffff, 10, 1000)\nconst camera = new THREE.PerspectiveCamera(\n  75,\n  WIDTH / HEIGHT,\n  0.1,\n  CAMERA_CLIP_Z\n)\n\nconst renderer = new THREE.WebGLRenderer()\n\nrenderer.setSize(WIDTH, HEIGHT)\n// we set this in css instead\nrenderer.domElement.style.width = ''\nrenderer.domElement.style.height = ''\ndocument.body.appendChild(renderer.domElement)\n\n// fontLoader.load('helvetiker_regular.typeface.json', function(font) {\n//   var geometry = new THREE.TextGeometry('Hello three.js!', {\n//     font: font,\n//     size: 80,\n//     height: 5,\n//     curveSegments: 12,\n//     bevelEnabled: true,\n//     bevelThickness: 10,\n//     bevelSize: 8,\n//     bevelSegments: 5\n//   })\n// })\n\n// var geometry = new THREE.BoxGeometry(1, 1, 1)\n// var material = new THREE.MeshBasicMaterial({ color: 0x00ff00 })\n// var cube = new THREE.Mesh(geometry, material)\n// scene.add(cube)\n\ncamera.position.y = 250\ncamera.position.z = CAMERA_Z\ncamera.lookAt(new THREE.Vector3(0, 0, -100))\n\nrenderer.render(scene, camera)\nlet t0 = 0\nconst metaZElement = document.querySelector('.js-meta-z')\nconst metaIdElement = document.querySelector('.js-meta-id')\nconst metaHashElement = document.querySelector('.js-meta-hash')\nconst metaTimeElement = document.querySelector('.js-meta-time')\nconst metaDataElement = document.querySelector('.js-meta-data')\nfunction animate(t) {\n  requestAnimationFrame(animate)\n  // camera.position.setZ(CAMERA_Z - CAMERA_SPEED * (t - t0))\n  const z = camera.position.z\n  touchVel *= touchFriction\n  const newZ = touchVel * CAMERA_SPEED + z\n  camera.position.setZ(newZ)\n  renderer.render(scene, camera)\n  metaZElement.textContent = -newZ\n  // change block data\n  if ((newZ + 400) % 500 > -100) {\n    // get block index\n    const index = -Math.ceil((newZ + 400) / 500)\n    setBlock(index)\n  }\n}\n\nlet originalBlocks = void 0\nfunction setBlock(index) {\n  if (index in originalBlocks) {\n    const block = originalBlocks[index]\n    metaIdElement.textContent = block.index\n    metaHashElement.textContent = block.hash\n    metaTimeElement.textContent = block.timestamp\n    metaDataElement.textContent = JSON.stringify(block.data)\n  } else {\n    metaIdElement.textContent = ''\n    metaHashElement.textContent = ''\n    metaTimeElement.textContent = ''\n    metaDataElement.textContent = ''\n  }\n}\n\nfunction yFromChar(char) {\n  return parseInt(char, 16) * 6\n}\n\ngetData()\n  .then(blocks => (originalBlocks = blocks))\n  .then(blocks => blocks.map(b => b.hash))\n  .then(hashes => hashes.map(hash => hash.split('').map(yFromChar)))\n  .then(data => [FLAT_LINE, FLAT_LINE, ...data, FLAT_LINE, FLAT_LINE])\n  .then(data => interpolateLines(data, x0, dx, dz))\n  .then(lines => {\n    lines.forEach(line => scene.add(line))\n  })\n  // .then(objs =>\n  //   objs.map((points, i) => ({\n  //     points,\n  //     z: i * 300 + 600\n  //   }))\n  // )\n  // .then(objs => objs.map((o, i) => lineFromPoints(o.points, x0, dx, 400, i)))\n  // .then(splines =>\n  //   splines.forEach(curve => {\n  //     scene.add(curve)\n  //   })\n  // )\n  .then(() => {\n    t0 = performance.now()\n    animate()\n  })\n\nlet lastTouchY = void 0\nlet touchVel = 0\nconst touchFriction = 0.9\nwindow.addEventListener('wheel', onWheel)\ndocument.addEventListener('touchstart', onTouchDown)\nwindow.addEventListener('touchmove', onTouchMove)\n\nfunction onWheel(e) {\n  const z = camera.position.z\n  camera.position.setZ(e.deltaY * CAMERA_SPEED + z)\n}\nfunction onTouchDown(e) {\n  console.log(e)\n  lastTouchY = e.touches[0].screenY\n}\nfunction onTouchMove(e) {\n  const touchY = e.touches[e.touches.length - 1].screenY\n  if (typeof lastTouchY === 'number') {\n    const dY = lastTouchY - touchY\n    touchVel += dY / 2\n  }\n  lastTouchY = touchY\n  e.preventDefault()\n  e.stopPropagation()\n  return false\n}\n","import getJson from './get-json'\n\nexport default function() {\n  return getJson(\n    'https://us-central1-hackday-blockchain.cloudfunctions.net/chain'\n  ).catch(() => getJson('/fake-data.json'))\n}\n","export default function(url) {\n  return new Promise((resolve, reject) => {\n    function reqListener() {\n      const text = this.responseText\n      const obj = JSON.parse(text)\n      resolve(obj)\n    }\n    var oReq = new XMLHttpRequest()\n    oReq.onload = reqListener\n    oReq.onerror = reject\n    oReq.open('GET', url)\n    oReq.send()\n  })\n}\n","import * as THREE from 'three'\nimport lineFromPoints from './line-from-points'\n\nconst INTERPOLATIONS = 50\n\nfunction interpolate(a, b, c) {\n  const k = easeInOutQuad(c)\n  return a * (1 - k) + b * k\n}\nfunction linear(t) {\n  return t\n}\nfunction easeInOutQuad(t) {\n  return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t\n}\n\nfunction getInterpolated(pointsA, pointsB, c) {\n  const points = []\n  for (let i = 0; i < pointsA.length; i++) {\n    points.push(interpolate(pointsA[i], pointsB[i], c))\n  }\n  return points\n}\n\nexport default function(data, x0, dx, dz) {\n  // interpolate points between the two lines\n  const allPoints = [data[0]]\n  for (let i = 1; i < data.length; i++) {\n    const points0 = data[i - 1]\n    const pointsI = data[i]\n    for (let j = 1; j < INTERPOLATIONS - 1; j++) {\n      const pointsInter = getInterpolated(points0, pointsI, j / INTERPOLATIONS)\n      allPoints.push(pointsInter)\n    }\n    allPoints.push(pointsI)\n  }\n\n  // create lines for each point array\n  return allPoints.map((points, i) =>\n    lineFromPoints(\n      points,\n      x0,\n      dx,\n      dz / INTERPOLATIONS,\n      i,\n      i % (INTERPOLATIONS - 1) !== 0\n    )\n  )\n}\n","import * as THREE from 'three'\n\nconst MAIN_MATERIAL = new THREE.LineBasicMaterial({\n  color: 0x000000\n})\nconst INTERPOLATED_MATERIAL = new THREE.LineBasicMaterial({\n  color: 0xff88cc\n})\n\nexport default function(points, x0, dx, dz, i, isInterpolated) {\n  const curve = new THREE.CatmullRomCurve3(\n    points.map((p, pi) => new THREE.Vector3(x0 + pi * dx, p, -dz * i))\n  )\n\n  const cpoints = curve.getPoints(400)\n  const geometry = new THREE.BufferGeometry().setFromPoints(cpoints)\n\n  const material = new THREE.LineBasicMaterial(\n    isInterpolated ? INTERPOLATED_MATERIAL : MAIN_MATERIAL\n  )\n\n  // Create the final object to add to the scene\n  const curveObject = new THREE.Line(geometry, material)\n  return curveObject\n}\n"]}